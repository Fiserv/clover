---
title: "(DS-6023)-Ecommerce API: Error codes"
slug: "ecommerce-api-error-codes-copy"
excerpt: ""
hidden: true
createdAt: "Wed May 15 2024 04:03:05 GMT+0000 (Coordinated Universal Time)"
updatedAt: "Tue May 21 2024 05:36:41 GMT+0000 (Coordinated Universal Time)"
---
[block:html]
{
  "html": "<!--JIRA DS-3008; Region pill icon added to topic on 2.27.2023-->\n<!--JIRA DS-6023; Added error codes for error messages-->"
}
[/block]


[block:html]{"html":"<div class=\"container-top\">\n  <!--United States-->\n  <div class=\"container-reg\">\n    <div class=\"pill-reg\">\n      <div class=\"label-reg\">United States</div>\n    </div>\n  </div>\n  <!--Canada-->\n  <div class=\"container-reg\">\n    <div class=\"pill-reg\">\n      <div class=\"label-reg\">Canada</div>\n    </div>\n  </div>\n</div>\n\n<!--Css-->\n<style>\n.container-top {\n  top: -15px;\n  position: relative;\n  margin-bottom: -5px;\n}\n\n.container-reg {\n  align-items: center;\n  min-width: auto; \n  width: fit-content;\n  text-align: left;\n  overflow: auto;\n  display: inline-block; \n}\n\n/*Pill format REG*/\n.pill-reg {\n  background: #44BB44;\n  border: .5px solid #44BB44;\n  margin-left: 5px;\n  overflow: hidden;\n  display: flex; \n  justify-content: center; \n  align-items: center; \n  border-radius: 10px;\n  height: 1.8rem;\n  margin-top: 10px;\n  margin-bottom: 1.5px; \n  padding: 0 10px; \n}\n\n/*Text FORMAT inside REG pills */\n.pill-reg .label-reg, \n.pill-reg__addon .label-reg \n{\n  font-style: normal;\n  font-weight: normal;\n  font-size: 12px;\n  color: #fff;\n  vertical-align: middle;\n  margin: 0;\n  padding: 0 5px;\n}\n</style>"}[/block]

The Ecommerce API returns error codes and messages when a request contains invalid or incomplete data, and Clover cannot process the request. There are two categories of errors:

- API-only errors due to the app logic if you are integrating with the API only.
- API and iframe errors at runtime, such as during API integrations.

Errors you may encounter are explained in the following sections.

## API only errors

You can prevent these errors by checking for the described issues in your application before submitting the API request.

| Error code              | Description                        | Request type(s)                         | Prevention                                                 | Error code |
| :---------------------- | :--------------------------------- | :-------------------------------------- | :--------------------------------------------------------- | :--------- |
| `incorrect_cvc`         | Please provide valid cvv value.    | Create token                            | Verify that the CVV value is a three- or four-digit number | 400        |
| `invalid_cvc`           | Please provide valid cvv value.    | Create token, create or update customer | Verify that the CVV value is a three- or four-digit number | 400        |
| `invalid_expiry_month`  | Please provide valid expiry month. | Create token                            | Verify that the month value is a one- or two-digit number  | 400        |
| `invalid_expiry_year`   | Please provide valid expiry year.  | Create token                            | Verify that the year value is a two- or four-digit number  | 400        |
| `invalid_number`        | Please provide valid card number   | Create token                            | Verify that the PAN is valid                               | 400        |
| `invalid_tax_amount`    | Please provide a valid tax amount. | Create charge                           | Verify that the amount is a positive number                | 400        |
| `invalid_request_error` | Please provide valid card number   | Create token                            | Verify that the card is valid                              | 400        |

## API and iframe errors

These errors can be handled at runtime and may be encountered by any Ecommerce app.

| Error code                | Description                                                                                                                                  | Request type                                            | Next steps                                                                                                                                                                                                                              | Error code |
| :------------------------ | :------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------ | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :--------- |
| `amount_too_large`        | The `amount` provided exceeds the amount allowed by Clover ($999, 999.99)                                                                    | Create charge and pay for order                         | If possible, split the charge or order into smaller amounts and retry as two transactions. If the customer's `source` token is single-use; the card must be tokenized again before attempting a second request when the first succeeds. | 400        |
| `card_declined`           | The card `source` provided was declined by the payment gateway                                                                               | Create charge and pay for order                         | Allow the customer to enter a different card and retry the request with the new `source`                                                                                                                                                | 402        |
| `card_on_file_missing`    | The customer attempting to pay does not have a `source` on file to complete the payment                                                      | Charge                                                  | Direct the customer to enter their card information and update the customer's record with the new `source`. Then, retry the original charge request.                                                                                    | 402        |
| `charge_already_captured` | The `charge` you’re attempting to capture has already been captured. Update the request with an uncaptured charge ID.                        | Capture charge                                          | Do not retry the request                                                                                                                                                                                                                | 400        |
| `charge_already_refunded` | The `charge` you’re attempting to refund has already been refunded. Update the request to use the ID of a charge that has not been refunded. | Refund                                                  | Do not retry the request                                                                                                                                                                                                                | 404        |
| `email_invalid`           | Please provide a valid email.                                                                                                                | Create charge, create or update customer, pay for order | Notify the customer of the issue and allow them to retry or enter a new email address                                                                                                                                                   | 400        |
| `expired_card`            | The card has expired. Check the expiration date or use a different card.                                                                     | Token                                                   | Notify the customer of the issue and allow them to retry by entering a new card                                                                                                                                                         | 404        |
| `incorrect_cvc`           | Please provide valid cvv value.                                                                                                              | Token                                                   | Notify the customer of the issue and allow them to retry by entering a new card                                                                                                                                                         | 400        |
| `incorrect_number`        | The card number is incorrect. Check the card’s number or use a different card.                                                               | Token                                                   | Notify the customer of the issue and allow them to retry by entering a new card                                                                                                                                                         | 400        |
| `invalid_card_type`       | The entered card is not supported for payouts.                                                                                               | Token                                                   | Before sending the request, verify that the `brand` is one of the enumerated values                                                                                                                                                     | 400        |
| `invalid_charge_amount`   | Payment amount exceeds maximum allowable value.                                                                                              | Charge                                                  | If possible, split the charge or order into smaller amounts and retry as two transactions. If the customer's `source` token is single-use; the card must be tokenized again before attempting a second request when the first succeeds. | 400        |
| `invalid_request`         | Please provide either raw pan or encrypted pan.                                                                                              | Token                                                   | Notify the customer of the issue and allow them to retry by entering a new card                                                                                                                                                         | 400        |
| `invalid_tip_amount`      | The entered tip amount is not a valid amount.                                                                                                | Create charge and pay for order                         | Notify the customer of the issue and allow them to retry by entering a new tip amount                                                                                                                                                   | 400        |
| `invalid_tax_amount`      | Please provide a valid tax amount.                                                                                                           | Create charge                                           | Check that the amount is a positive number, and if the value has changed after the check, retry the request                                                                                                                             | 400        |
| `missing`                 | The token request failed upstream, and the upstream message could not be processed.                                                          | Token                                                   | Allow the user to retry the transaction                                                                                                                                                                                                 | 500        |
| `order_already_paid`      | The order identified by the ID in the request URL has already been paid.                                                                     | Pay order                                               | Notify the user that the order has already been paid                                                                                                                                                                                    | 409        |
| `processing_error`        | Please provide a valid request.                                                                                                              | Any                                                     | Notify the user that an error occurred and, if warranted, allow them to retry the request                                                                                                                                               | 500        |
| `rate_limit`              | Your application has made too many requests and additional requests will not be processed until the rate limit expires.                      | Any                                                     | Follow the best practices described in [API usage & rate limits](doc:api-usage-rate-limits)                                                                                                                                             | 429        |
| `resource_missing`        | The ID provided is not valid. Either the resource does not exist, or an ID for a different resource has been provided.                       | Any                                                     | Notify the user that the data item could not be found. Allow the user to adjust the request and retry.                                                                                                                                  | 400        |
| `token_already_used`      | You cannot use a clover token more than once unless it is marked as multipay.                                                                | Charge                                                  | Notify the user of the issue and have them reenter their card details. Then, use the iframe to generate a new token.                                                                                                                    | 400        |
